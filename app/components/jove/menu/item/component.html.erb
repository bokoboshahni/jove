<% if @form %>
  <%= form_with(url: @href, method: @method) do %>
    <%= button_tag(class: container_classes, **@system_args) do %>
      <%= tag.div(class: state_classes) do %>
        <%= render(Jove::Icon::Component.new(icon: @leading_icon, size: 4, class: leading_icon_classes)) if @leading_icon %>
        <%= @label %>
      <% end %>
    <% end %>
  <% end %>
<% else %>
  <%= tag.send(@tag, class: container_classes, **@system_args) do %>
    <%= tag.div(class: state_classes) do %>
      <%= render(Jove::Icon::Component.new(icon: @leading_icon, size: 4, class: leading_icon_classes)) if @leading_icon %>
      <%= @label %>
    <% end %>
  <% end %>
<% end %>
